(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),s=a(1),o=a(2),l=a(4),u=a(3),m=(a(14),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleInput=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.submit(e.state.value)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row search-row mt-5 mb-5 justify-content-center "},r.a.createElement("div",{className:"col-auto"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row align-items-center justify-content-center"},r.a.createElement("div",{className:"col-auto"},r.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Moscu...",onChange:this.handleInput,value:this.state.value,required:!0})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-2"},"Search"))))))}}]),a}(r.a.Component)),p=function(e){return r.a.createElement("div",{className:"row header-row header-bar mb-5 "},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h2",null,e.text,r.a.createElement("i",{className:"icon ".concat(e.icon)}))))},h=a(5),f=a.n(h),d=a(6),v=function(){return Math.floor(25*Math.random())},y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={gif:null,season:""},e.getGif=function(){var t=Object(d.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.giphy.com/v1/gifs/search?q=".concat(a,"&api_key=FGcKWs04zti40C9Hyhxu4CRPtL7bADFx"),{mode:"cors"});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,e.setState({gif:r.data[v()].images.original.url}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("problem with gif");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){e!==this.props&&("hot summer"!==this.props.gif&&"freezing"!==this.props.gif&&"weather reporter"!==this.props.gif||this.getGif(this.props.gif))}},{key:"render",value:function(){return this.state.gif?r.a.createElement("img",{src:this.state.gif,className:"img-fluid gif"}):r.a.createElement("div",{className:"d-flex align-items-center justify-content-center",style:{height:"15em"}},r.a.createElement("div",{className:"spinner-border ",role:"status"}))}}]),a}(r.a.Component),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({temp:this.props.data.temp,wind:this.props.data.wind,general:this.props.data.general,city:this.props.data.city,humidity:this.props.data.humidity})}},{key:"render",value:function(){return this.state.city?r.a.createElement("div",{className:"container w-100 weather-content-style mb-4"},r.a.createElement("h2",null,this.state.city),r.a.createElement("p",null,this.state.temp,"\xb0C"),r.a.createElement("p",null,this.state.general),r.a.createElement("p",null,"Windspeed ",this.state.wind,"km/h"),r.a.createElement("p",null,"Humidity ",this.state.humidity,"%")):r.a.createElement("div",{className:"container w-100 weather-content-style mb-4 d-flex align-items-center justify-content-center",style:{height:"15em"}},r.a.createElement("div",{className:"spinner-border ",role:"status"}))}}]),a}(r.a.Component),g=function(e){var t=e.main.temp;return Math.floor(t-273)},w=function(e){var t=e.wind.speed;return Math.floor(3.6*t)},E=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={city:null},e.getWeather=function(){var t=Object(d.a)(f.a.mark((function t(a){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&APPID=45b8a5fd049781c6a9430490973be29b"),{mode:"cors"});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,c=g(r)>=24?"hot summer":g(r)<=15?"freezing":"weather reporter",e.setState({temp:g(r),wind:w(r),humidity:r.main.humidity,general:r.weather[0].description,city:a,gifSeason:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert("Error, wrong city");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.city&&this.getWeather(this.props.city)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.getWeather(this.props.city)}},{key:"render",value:function(){return r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:"col-md-8 col-xs-12 text-center"},r.a.createElement(b,{data:this.state}),r.a.createElement(y,{gif:this.state.gifSeason})))}}]),a}(r.a.Component),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={city:""},e.citySave=function(t){e.setState({city:t})},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(p,{text:"Joaquin Weather",icon:"heart outline"}),r.a.createElement(m,{placeholder:"Write a location...",btnText:"Search",submit:this.citySave}),r.a.createElement(E,{city:this.state.city}))}}]),a}(r.a.Component);i.a.render(r.a.createElement(j,null),document.querySelector("#root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.b6cd2585.chunk.js.map